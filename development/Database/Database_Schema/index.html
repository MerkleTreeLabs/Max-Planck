
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the Max Planck Bot">
      
      
        <meta name="author" content="James Gordon">
      
      
      
        <link rel="prev" href="../Database_Instructions/">
      
      
        <link rel="next" href="../../Zond/ZondWallets/">
      
      
      <link rel="icon" href="../../../assets/img/favicon/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.39">
    
    
      
        <title>Schema - Max Planck Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8c3ca2c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#database_schema_documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Max Planck Docs" class="md-header__button md-logo" aria-label="Max Planck Docs" data-md-component="logo">
      
  <img src="../../../assets/img/logo/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Max Planck Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Schema
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/MerkleTreeLabs/Max-planck/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    MerkleTreeLabs/Max-Planck
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Max Planck Docs" class="md-nav__button md-logo" aria-label="Max Planck Docs" data-md-component="logo">
      
  <img src="../../../assets/img/logo/logo.png" alt="logo">

    </a>
    Max Planck Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/MerkleTreeLabs/Max-planck/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    MerkleTreeLabs/Max-Planck
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bot Features
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Basic Usage
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Basic Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Usage/account-signup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sign Up
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Usage/commands-guild/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guild Commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Usage/commands-private/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Private Commands
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Bot Install
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Bot Install
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Install/install-guild/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add to Guild
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Config/config-guild/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Config/config-premium/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Premium Features
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../terms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terms
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentaiton
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Bot Install
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Bot Install
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Install/Requirements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Requirements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Install/Server-Setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Server Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Install/Discord/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Discord
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Install/Nodes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nodes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../API/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Information
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_2" >
        
          
          <label class="md-nav__link" for="__nav_7_4_2" id="__nav_7_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Routes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4_2">
            <span class="md-nav__icon md-icon"></span>
            Routes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../API/Database-Routes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../API/QRL-Routes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    QRL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../API/Zond-Routes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zond
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5" >
        
          
          <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Application
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5">
            <span class="md-nav__icon md-icon"></span>
            Application
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Application/Commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5_2" >
        
          
          <label class="md-nav__link" for="__nav_7_5_2" id="__nav_7_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Scripting
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_2">
            <span class="md-nav__icon md-icon"></span>
            Scripting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Scripting/Crontab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Crontab
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Scripting/Database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Scripting/Services/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Services
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Scripting/Startup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Startup
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6" checked>
        
          
          <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Database
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7_6">
            <span class="md-nav__icon md-icon"></span>
            Database
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database Info
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Database_Instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instructions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Schema
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Schema
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table_of_contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user_management" class="md-nav__link">
    <span class="md-ellipsis">
      User Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="User Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#users_users" class="md-nav__link">
    <span class="md-ellipsis">
      Users (users)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_emails_user_emails" class="md-nav__link">
    <span class="md-ellipsis">
      User Emails (user_emails)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_settings_user_settings" class="md-nav__link">
    <span class="md-ellipsis">
      User Settings (user_settings)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_agreements_users_agree" class="md-nav__link">
    <span class="md-ellipsis">
      User Agreements (users_agree)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication_and_security" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication and Security
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Authentication and Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#authentication_types_auth_types" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication Types (auth_types)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#services_services" class="md-nav__link">
    <span class="md-ellipsis">
      Services (services)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication_providers_authentication_providers" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication Providers (authentication_providers)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_authentications_user_authentications" class="md-nav__link">
    <span class="md-ellipsis">
      User Authentications (user_authentications)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passwordless_tokens_passwordless_tokens" class="md-nav__link">
    <span class="md-ellipsis">
      Passwordless Tokens (passwordless_tokens)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jwt_refresh_tokens_jwt_refresh_tokens" class="md-nav__link">
    <span class="md-ellipsis">
      JWT Refresh Tokens (jwt_refresh_tokens)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_two-factor_authentication_user_2fa" class="md-nav__link">
    <span class="md-ellipsis">
      User Two-Factor Authentication (user_2fa)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_keys_api_keys" class="md-nav__link">
    <span class="md-ellipsis">
      API Keys (api_keys)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_rate_limits_api_rate_limits" class="md-nav__link">
    <span class="md-ellipsis">
      API Rate Limits (api_rate_limits)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_key_rotations_api_key_rotations" class="md-nav__link">
    <span class="md-ellipsis">
      API Key Rotations (api_key_rotations)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security_logs_security_logs" class="md-nav__link">
    <span class="md-ellipsis">
      Security Logs (security_logs)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#blockchain_and_wallets" class="md-nav__link">
    <span class="md-ellipsis">
      Blockchain and Wallets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Blockchain and Wallets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#currencies_currencies" class="md-nav__link">
    <span class="md-ellipsis">
      Currencies (currencies)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wallets_wallets" class="md-nav__link">
    <span class="md-ellipsis">
      Wallets (wallets)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web3_wallets_web3_wallets" class="md-nav__link">
    <span class="md-ellipsis">
      Web3 Wallets (web3_wallets)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web3_verifications_web3_verifications" class="md-nav__link">
    <span class="md-ellipsis">
      Web3 Verifications (web3_verifications)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nonces_nonces" class="md-nav__link">
    <span class="md-ellipsis">
      Nonces (nonces)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transactions_and_tips" class="md-nav__link">
    <span class="md-ellipsis">
      Transactions and Tips
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Transactions and Tips">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transaction_types_transaction_types" class="md-nav__link">
    <span class="md-ellipsis">
      Transaction Types (transaction_types)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transactions_transactions" class="md-nav__link">
    <span class="md-ellipsis">
      Transactions (transactions)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tips_tips" class="md-nav__link">
    <span class="md-ellipsis">
      Tips (tips)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tip_recipients_tip_recipients" class="md-nav__link">
    <span class="md-ellipsis">
      Tip Recipients (tip_recipients)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#withdrawals_withdrawals" class="md-nav__link">
    <span class="md-ellipsis">
      Withdrawals (withdrawals)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#future_tips_future_tips" class="md-nav__link">
    <span class="md-ellipsis">
      Future Tips (future_tips)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#promotions_and_rewards" class="md-nav__link">
    <span class="md-ellipsis">
      Promotions and Rewards
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Promotions and Rewards">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#promotions_promotions" class="md-nav__link">
    <span class="md-ellipsis">
      Promotions (promotions)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_promotions_user_promotions" class="md-nav__link">
    <span class="md-ellipsis">
      User Promotions (user_promotions)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guild_promotions_guild_promotions" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Promotions (guild_promotions)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#guild_promotion_participation_table" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Promotion Participation Table
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Guild Promotion Participation Table">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#guild_promotions_rewards_table_guild_promotion_rewards" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Promotions Rewards Table (guild_promotion_rewards)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#guild_and_role_management" class="md-nav__link">
    <span class="md-ellipsis">
      Guild and Role Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Guild and Role Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#guilds_guilds" class="md-nav__link">
    <span class="md-ellipsis">
      Guilds (guilds)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guild_features_guild_features" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Features (guild_features)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roles_roles" class="md-nav__link">
    <span class="md-ellipsis">
      Roles (roles)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#permissions_permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Permissions (permissions)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#role_permissions_role_permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Role Permissions (role_permissions)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_roles_user_roles" class="md-nav__link">
    <span class="md-ellipsis">
      User Roles (user_roles)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guild_roles_guild_roles" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Roles (guild_roles)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guild_permissions_guild_permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Permissions (guild_permissions)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guild_mod_users_guild_mod_users" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Mod Users (guild_mod_users)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guild_admin_users_guild_admin_users" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Admin Users (guild_admin_users)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allowed_channels_allowed_channels" class="md-nav__link">
    <span class="md-ellipsis">
      Allowed Channels (allowed_channels)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#faucet_channels_faucet_channels" class="md-nav__link">
    <span class="md-ellipsis">
      Faucet Channels (faucet_channels)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#analytics_and_logging" class="md-nav__link">
    <span class="md-ellipsis">
      Analytics and Logging
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Analytics and Logging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user_analytics_user_analytics" class="md-nav__link">
    <span class="md-ellipsis">
      User Analytics (user_analytics)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#balance_snapshots_balance_snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      Balance Snapshots (balance_snapshots)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data_access_logs_data_access_logs" class="md-nav__link">
    <span class="md-ellipsis">
      Data Access Logs (data_access_logs)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notifications" class="md-nav__link">
    <span class="md-ellipsis">
      Notifications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Notifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notification_types_notification_types" class="md-nav__link">
    <span class="md-ellipsis">
      Notification Types (notification_types)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notifications_notifications" class="md-nav__link">
    <span class="md-ellipsis">
      Notifications (notifications)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_notifications_user_notifications" class="md-nav__link">
    <span class="md-ellipsis">
      User Notifications (user_notifications)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_notification_preferences_user_notification_preferences" class="md-nav__link">
    <span class="md-ellipsis">
      User Notification Preferences (user_notification_preferences)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guild_notifications_guild_notifications" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Notifications (guild_notifications)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_guild_notifications_user_guild_notifications" class="md-nav__link">
    <span class="md-ellipsis">
      User Guild Notifications (user_guild_notifications)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guild_notification_queue_guild_notification_queue" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Notification Queue (guild_notification_queue)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes_and_constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Notes and Constraints
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_7" >
        
          
          <label class="md-nav__link" for="__nav_7_7" id="__nav_7_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blockchain
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_7">
            <span class="md-nav__icon md-icon"></span>
            Blockchain
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_7_1" >
        
          
          <label class="md-nav__link" for="__nav_7_7_1" id="__nav_7_7_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Nodes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_7_1">
            <span class="md-nav__icon md-icon"></span>
            Nodes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../QRL/README.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    QRL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Zond/README.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zond
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_7_2" id="__nav_7_7_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Wallets
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_7_2">
            <span class="md-nav__icon md-icon"></span>
            Wallets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Zond/ZondWallets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zond Wallet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Contribution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../License/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table_of_contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user_management" class="md-nav__link">
    <span class="md-ellipsis">
      User Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="User Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#users_users" class="md-nav__link">
    <span class="md-ellipsis">
      Users (users)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_emails_user_emails" class="md-nav__link">
    <span class="md-ellipsis">
      User Emails (user_emails)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_settings_user_settings" class="md-nav__link">
    <span class="md-ellipsis">
      User Settings (user_settings)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_agreements_users_agree" class="md-nav__link">
    <span class="md-ellipsis">
      User Agreements (users_agree)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication_and_security" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication and Security
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Authentication and Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#authentication_types_auth_types" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication Types (auth_types)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#services_services" class="md-nav__link">
    <span class="md-ellipsis">
      Services (services)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication_providers_authentication_providers" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication Providers (authentication_providers)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_authentications_user_authentications" class="md-nav__link">
    <span class="md-ellipsis">
      User Authentications (user_authentications)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passwordless_tokens_passwordless_tokens" class="md-nav__link">
    <span class="md-ellipsis">
      Passwordless Tokens (passwordless_tokens)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jwt_refresh_tokens_jwt_refresh_tokens" class="md-nav__link">
    <span class="md-ellipsis">
      JWT Refresh Tokens (jwt_refresh_tokens)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_two-factor_authentication_user_2fa" class="md-nav__link">
    <span class="md-ellipsis">
      User Two-Factor Authentication (user_2fa)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_keys_api_keys" class="md-nav__link">
    <span class="md-ellipsis">
      API Keys (api_keys)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_rate_limits_api_rate_limits" class="md-nav__link">
    <span class="md-ellipsis">
      API Rate Limits (api_rate_limits)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_key_rotations_api_key_rotations" class="md-nav__link">
    <span class="md-ellipsis">
      API Key Rotations (api_key_rotations)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security_logs_security_logs" class="md-nav__link">
    <span class="md-ellipsis">
      Security Logs (security_logs)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#blockchain_and_wallets" class="md-nav__link">
    <span class="md-ellipsis">
      Blockchain and Wallets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Blockchain and Wallets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#currencies_currencies" class="md-nav__link">
    <span class="md-ellipsis">
      Currencies (currencies)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wallets_wallets" class="md-nav__link">
    <span class="md-ellipsis">
      Wallets (wallets)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web3_wallets_web3_wallets" class="md-nav__link">
    <span class="md-ellipsis">
      Web3 Wallets (web3_wallets)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web3_verifications_web3_verifications" class="md-nav__link">
    <span class="md-ellipsis">
      Web3 Verifications (web3_verifications)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nonces_nonces" class="md-nav__link">
    <span class="md-ellipsis">
      Nonces (nonces)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transactions_and_tips" class="md-nav__link">
    <span class="md-ellipsis">
      Transactions and Tips
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Transactions and Tips">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transaction_types_transaction_types" class="md-nav__link">
    <span class="md-ellipsis">
      Transaction Types (transaction_types)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transactions_transactions" class="md-nav__link">
    <span class="md-ellipsis">
      Transactions (transactions)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tips_tips" class="md-nav__link">
    <span class="md-ellipsis">
      Tips (tips)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tip_recipients_tip_recipients" class="md-nav__link">
    <span class="md-ellipsis">
      Tip Recipients (tip_recipients)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#withdrawals_withdrawals" class="md-nav__link">
    <span class="md-ellipsis">
      Withdrawals (withdrawals)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#future_tips_future_tips" class="md-nav__link">
    <span class="md-ellipsis">
      Future Tips (future_tips)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#promotions_and_rewards" class="md-nav__link">
    <span class="md-ellipsis">
      Promotions and Rewards
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Promotions and Rewards">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#promotions_promotions" class="md-nav__link">
    <span class="md-ellipsis">
      Promotions (promotions)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_promotions_user_promotions" class="md-nav__link">
    <span class="md-ellipsis">
      User Promotions (user_promotions)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guild_promotions_guild_promotions" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Promotions (guild_promotions)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#guild_promotion_participation_table" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Promotion Participation Table
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Guild Promotion Participation Table">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#guild_promotions_rewards_table_guild_promotion_rewards" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Promotions Rewards Table (guild_promotion_rewards)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#guild_and_role_management" class="md-nav__link">
    <span class="md-ellipsis">
      Guild and Role Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Guild and Role Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#guilds_guilds" class="md-nav__link">
    <span class="md-ellipsis">
      Guilds (guilds)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guild_features_guild_features" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Features (guild_features)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roles_roles" class="md-nav__link">
    <span class="md-ellipsis">
      Roles (roles)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#permissions_permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Permissions (permissions)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#role_permissions_role_permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Role Permissions (role_permissions)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_roles_user_roles" class="md-nav__link">
    <span class="md-ellipsis">
      User Roles (user_roles)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guild_roles_guild_roles" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Roles (guild_roles)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guild_permissions_guild_permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Permissions (guild_permissions)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guild_mod_users_guild_mod_users" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Mod Users (guild_mod_users)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guild_admin_users_guild_admin_users" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Admin Users (guild_admin_users)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allowed_channels_allowed_channels" class="md-nav__link">
    <span class="md-ellipsis">
      Allowed Channels (allowed_channels)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#faucet_channels_faucet_channels" class="md-nav__link">
    <span class="md-ellipsis">
      Faucet Channels (faucet_channels)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#analytics_and_logging" class="md-nav__link">
    <span class="md-ellipsis">
      Analytics and Logging
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Analytics and Logging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user_analytics_user_analytics" class="md-nav__link">
    <span class="md-ellipsis">
      User Analytics (user_analytics)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#balance_snapshots_balance_snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      Balance Snapshots (balance_snapshots)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data_access_logs_data_access_logs" class="md-nav__link">
    <span class="md-ellipsis">
      Data Access Logs (data_access_logs)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notifications" class="md-nav__link">
    <span class="md-ellipsis">
      Notifications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Notifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notification_types_notification_types" class="md-nav__link">
    <span class="md-ellipsis">
      Notification Types (notification_types)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notifications_notifications" class="md-nav__link">
    <span class="md-ellipsis">
      Notifications (notifications)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_notifications_user_notifications" class="md-nav__link">
    <span class="md-ellipsis">
      User Notifications (user_notifications)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_notification_preferences_user_notification_preferences" class="md-nav__link">
    <span class="md-ellipsis">
      User Notification Preferences (user_notification_preferences)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guild_notifications_guild_notifications" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Notifications (guild_notifications)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user_guild_notifications_user_guild_notifications" class="md-nav__link">
    <span class="md-ellipsis">
      User Guild Notifications (user_guild_notifications)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guild_notification_queue_guild_notification_queue" class="md-nav__link">
    <span class="md-ellipsis">
      Guild Notification Queue (guild_notification_queue)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes_and_constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Notes and Constraints
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="database_schema_documentation">Database Schema Documentation<a class="headerlink" href="#database_schema_documentation" title="Permanent link">&para;</a></h1>
<h2 id="table_of_contents">Table of Contents<a class="headerlink" href="#table_of_contents" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#user-management">User Management</a></li>
<li><a href="#users-users">Users (<code>users</code>)</a></li>
<li><a href="#user-emails-user_emails">User Emails (<code>user_emails</code>)</a></li>
<li><a href="#user-settings-user_settings">User Settings (<code>user_settings</code>)</a></li>
<li><a href="#user-agreements-users_agree">User Agreements (<code>users_agree</code>)</a></li>
<li><a href="#authentication-and-security">Authentication and Security</a></li>
<li><a href="#authentication-types-auth_types">Authentication Types (<code>auth_types</code>)</a></li>
<li><a href="#services-services">Services (<code>services</code>)</a></li>
<li><a href="#authentication-providers-authentication_providers">Authentication Providers (<code>authentication_providers</code>)</a></li>
<li><a href="#user-authentications-user_authentications">User Authentications (<code>user_authentications</code>)</a></li>
<li><a href="#passwordless-tokens-passwordless_tokens">Passwordless Tokens (<code>passwordless_tokens</code>)</a></li>
<li><a href="#jwt-refresh-tokens-jwt_refresh_tokens">JWT Refresh Tokens (<code>jwt_refresh_tokens</code>)</a></li>
<li><a href="#user-two-factor-authentication-user_2fa">User Two-Factor Authentication (<code>user_2fa</code>)</a></li>
<li><a href="#api-keys-api_keys">API Keys (<code>api_keys</code>)</a></li>
<li><a href="#api-rate-limits-api_rate_limits">API Rate Limits (<code>api_rate_limits</code>)</a></li>
<li><a href="#api-key-rotations-api_key_rotations">API Key Rotations (<code>api_key_rotations</code>)</a></li>
<li><a href="#security-logs-security_logs">Security Logs (<code>security_logs</code>)</a></li>
<li><a href="#blockchain-and-wallets">Blockchain and Wallets</a></li>
<li><a href="#currencies-currencies">Currencies (<code>currencies</code>)</a></li>
<li><a href="#wallets-wallets">Wallets (<code>wallets</code>)</a></li>
<li><a href="#web3-wallets-web3_wallets">Web3 Wallets (<code>web3_wallets</code>)</a></li>
<li><a href="#web3-verifications-web3_verifications">Web3 Verifications (<code>web3_verifications</code>)</a></li>
<li><a href="#nonces-nonces">Nonces (<code>nonces</code>)</a></li>
<li><a href="#transactions-and-tips">Transactions and Tips</a></li>
<li><a href="#transaction-types-transaction_types">Transaction Types (<code>transaction_types</code>)</a></li>
<li><a href="#transactions-transactions">Transactions (<code>transactions</code>)</a></li>
<li><a href="#tips-tips">Tips (<code>tips</code>)</a></li>
<li><a href="#tip-recipients-tip_recipients">Tip Recipients (<code>tip_recipients</code>)</a></li>
<li><a href="#withdrawals-withdrawals">Withdrawals (<code>withdrawals</code>)</a></li>
<li><a href="#future-tips-future_tips">Future Tips (<code>future_tips</code>)</a></li>
<li><a href="#promotions-and-rewards">Promotions and Rewards</a></li>
<li><a href="#promotions-promotions">Promotions (<code>promotions</code>)</a></li>
<li><a href="#user-promotions-user_promotions">User Promotions (<code>user_promotions</code>)</a></li>
<li><a href="#guild-and-role-management">Guild and Role Management</a></li>
<li><a href="#guilds-guilds">Guilds (<code>guilds</code>)</a></li>
<li><a href="#guild-features-guild_features">Guild Features (<code>guild_features</code>)</a></li>
<li><a href="#roles-roles">Roles (<code>roles</code>)</a></li>
<li><a href="#permissions-permissions">Permissions (<code>permissions</code>)</a></li>
<li><a href="#role-permissions-role_permissions">Role Permissions (<code>role_permissions</code>)</a></li>
<li><a href="#user-roles-user_roles">User Roles (<code>user_roles</code>)</a></li>
<li><a href="#guild-roles-guild_roles">Guild Roles (<code>guild_roles</code>)</a></li>
<li><a href="#guild-permissions-guild_permissions">Guild Permissions (<code>guild_permissions</code>)</a></li>
<li><a href="#guild-mod-users-guild_mod_users">Guild Mod Users (<code>guild_mod_users</code>)</a></li>
<li><a href="#guild-admin-users-guild_admin_users">Guild Admin Users (<code>guild_admin_users</code>)</a></li>
<li><a href="#allowed-channels-allowed_channels">Allowed Channels (<code>allowed_channels</code>)</a></li>
<li><a href="#faucet-channels-faucet_channels">Faucet Channels (<code>faucet_channels</code>)</a></li>
<li><a href="#analytics-and-logging">Analytics and Logging</a></li>
<li><a href="#user-analytics-user_analytics">User Analytics (<code>user_analytics</code>)</a></li>
<li><a href="#balance-snapshots-balance_snapshots">Balance Snapshots (<code>balance_snapshots</code>)</a></li>
<li><a href="#data-access-logs-data_access_logs">Data Access Logs (<code>data_access_logs</code>)</a></li>
<li><a href="#notifications">Notifications</a></li>
<li><a href="#notification-types-notification_types">Notification Types (<code>notification_types</code>)</a></li>
<li><a href="#notifications-notifications">Notifications (<code>notifications</code>)</a></li>
<li><a href="#user-notifications-user_notifications">User Notifications (<code>user_notifications</code>)</a></li>
<li><a href="#user-notification-preferences-user_notification_preferences">User Notification Preferences (<code>user_notification_preferences</code>)</a></li>
<li><a href="#guild-notifications-guild_notifications">Guild Notifications (<code>guild_notifications</code>)</a></li>
<li><a href="#user-guild-notifications-user_guild_notifications">User Guild Notifications (<code>user_guild_notifications</code>)</a></li>
<li><a href="#guild-notification-queue-guild_notification_queue">Guild Notification Queue (<code>guild_notification_queue</code>)</a></li>
<li><a href="#notes-and-constraints">Notes and Constraints</a></li>
</ul>
<hr />
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>This document provides a comprehensive overview of the database schema, detailing each table, its purpose, and its fields. The schema is designed to support a multi-platform application with features including authentication, blockchain interactions, promotions, notifications, and more.</p>
<hr />
<h2 id="user_management">User Management<a class="headerlink" href="#user_management" title="Permanent link">&para;</a></h2>
<h3 id="users_users">Users (<code>users</code>)<a class="headerlink" href="#users_users" title="Permanent link">&para;</a></h3>
<p>Stores unique user information, including a unique username used across the app for identification.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">username</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">UNIQUE</span><span class="p">,</span>
<span class="w">  </span><span class="n">password_hash</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="n">updated_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier for each user.</li>
<li><code>username</code>: Unique username used as a universal identifier.</li>
<li><code>password_hash</code>: Hashed password (if supporting direct authentication).</li>
<li><code>created_at</code>: Timestamp when the user was created.</li>
<li><code>updated_at</code>: Timestamp when the user was last updated.</li>
</ul>
<h3 id="user_emails_user_emails">User Emails (<code>user_emails</code>)<a class="headerlink" href="#user_emails_user_emails" title="Permanent link">&para;</a></h3>
<p>Stores user email addresses, primary/valid flags, and subscription status</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">user_emails</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">email</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">is_primary</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span>
<span class="w">  </span><span class="n">is_valid</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">TRUE</span><span class="p">,</span>
<span class="w">  </span><span class="n">is_subscribed</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Opt-in for mailing lists</span>
<span class="w">  </span><span class="n">validation_token</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span><span class="w"> </span><span class="c1">-- Token for email validation process</span>
<span class="w">  </span><span class="n">validated_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Timestamp when the email was validated</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="n">updated_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="p">),</span><span class="w"> </span><span class="c1">-- Ensures each user cannot have duplicate email addresses</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>email</code>: User&rsquo;s email address.</li>
<li><code>is_primary</code>: Indicates if this is the primary email.</li>
<li><code>is_valid</code>: Indicates if the email is valid.</li>
<li><code>is_subscribed</code>: User&rsquo;s subscription status to mailing lists.</li>
<li><code>validation_token</code>: Token for email validation.</li>
<li><code>validated_at</code>: Timestamp when the email was validated.</li>
<li><code>created_at</code>: Timestamp when the record was created.</li>
<li><code>updated_at</code>: Timestamp when the record was last updated.</li>
</ul>
<h3 id="user_settings_user_settings">User Settings (<code>user_settings</code>)<a class="headerlink" href="#user_settings_user_settings" title="Permanent link">&para;</a></h3>
<p>Flexible key-value structure for user preferences and settings.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">user_settings</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">setting_key</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Name of the setting (e.g., &#39;theme&#39;, &#39;email_notifications&#39;)</span>
<span class="w">  </span><span class="n">setting_value</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span><span class="w"> </span><span class="c1">-- Value of the setting (e.g., &#39;dark&#39;, &#39;true&#39;, &#39;QRL&#39;)</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier for each setting entry.</li>
<li><code>user_id</code>: References the id from the users table, associating the setting with a specific user.</li>
<li><code>setting_key</code>: The name of the preference or setting being stored (e.g., &ldquo;theme&rdquo; for user interface preferences or &ldquo;notification&rdquo; for notification settings).</li>
<li><code>setting_value</code>: The value of the setting (e.g., &ldquo;dark&rdquo; for theme or &ldquo;true&rdquo; for enabling notifications).</li>
</ul>
<h3 id="user_agreements_users_agree">User Agreements (<code>users_agree</code>)<a class="headerlink" href="#user_agreements_users_agree" title="Permanent link">&para;</a></h3>
<p>Tracks user agreement to terms and conditions.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">users_agree</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">has_agreed</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">agreed_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>has_agreed</code>: Indicates agreement status.</li>
<li><code>agreed_at</code>: Timestamp when the user agreed.</li>
</ul>
<hr />
<h2 id="authentication_and_security">Authentication and Security<a class="headerlink" href="#authentication_and_security" title="Permanent link">&para;</a></h2>
<h3 id="authentication_types_auth_types">Authentication Types (<code>auth_types</code>)<a class="headerlink" href="#authentication_types_auth_types" title="Permanent link">&para;</a></h3>
<p>Defines different authentication types supported.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">auth_types</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">UNIQUE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier for the authentication type.</li>
<li><code>name</code>: Name of the authentication type (e.g., &lsquo;oauth2&rsquo;, &lsquo;api_key&rsquo;).</li>
</ul>
<h3 id="services_services">Services (<code>services</code>)<a class="headerlink" href="#services_services" title="Permanent link">&para;</a></h3>
<p>Defines the various platforms or services that users can connect to.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">services</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">UNIQUE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier for the service.</li>
<li><code>name</code>: Name of the service (e.g., &lsquo;discord&rsquo;, &lsquo;twitter&rsquo;).</li>
</ul>
<h3 id="authentication_providers_authentication_providers">Authentication Providers (<code>authentication_providers</code>)<a class="headerlink" href="#authentication_providers_authentication_providers" title="Permanent link">&para;</a></h3>
<p>Stores information about each authentication provider or method.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">authentication_providers</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">service_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">auth_type_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">client_id</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
<span class="w">  </span><span class="n">client_secret</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
<span class="w">  </span><span class="n">auth_url</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
<span class="w">  </span><span class="n">token_url</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
<span class="w">  </span><span class="n">scopes</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="n">updated_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">service_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">services</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">auth_type_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">auth_types</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>service_id</code>: References <code>services.id</code>.</li>
<li><code>auth_type_id</code>: References <code>auth_types.id</code>.</li>
<li><code>client_id</code>: Client ID for OAuth providers.</li>
<li><code>client_secret</code>: Client secret for OAuth providers.</li>
<li><code>auth_url</code>: Authorization URL.</li>
<li><code>token_url</code>: Token exchange URL.</li>
<li><code>scopes</code>: Permissions requested.</li>
<li><code>created_at</code>: Timestamp when the record was created.</li>
<li><code>updated_at</code>: Timestamp when the record was last updated.</li>
</ul>
<h3 id="user_authentications_user_authentications">User Authentications (<code>user_authentications</code>)<a class="headerlink" href="#user_authentications_user_authentications" title="Permanent link">&para;</a></h3>
<p>Associates users with their authentication methods.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">user_authentications</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">provider_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">provider_user_id</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
<span class="w">  </span><span class="n">access_token</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
<span class="w">  </span><span class="n">refresh_token</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
<span class="w">  </span><span class="n">token_expiry</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span>
<span class="w">  </span><span class="n">additional_data</span><span class="w"> </span><span class="n">JSON</span><span class="p">,</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="n">updated_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">provider_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">authentication_providers</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>provider_id</code>: References <code>authentication_providers.id</code>.</li>
<li><code>provider_user_id</code>: User&rsquo;s ID on the provider&rsquo;s platform.</li>
<li><code>access_token</code>: Access token for API calls.</li>
<li><code>refresh_token</code>: Token to refresh the access token.</li>
<li><code>token_expiry</code>: When the access token expires.</li>
<li><code>additional_data</code>: JSON field for provider-specific data.</li>
<li><code>created_at</code>: Timestamp when the record was created.</li>
<li><code>updated_at</code>: Timestamp when the record was last updated.</li>
</ul>
<h3 id="passwordless_tokens_passwordless_tokens">Passwordless Tokens (<code>passwordless_tokens</code>)<a class="headerlink" href="#passwordless_tokens_passwordless_tokens" title="Permanent link">&para;</a></h3>
<p>Stores tokens for passwordless authentication methods.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">passwordless_tokens</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">token</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Token sent to user for passwordless login</span>
<span class="w">  </span><span class="n">is_used</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Track if the token has been used</span>
<span class="w">  </span><span class="n">expires_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Token expiration time</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="n">updated_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="k">UNIQUE</span><span class="w"> </span><span class="p">(</span><span class="n">token</span><span class="p">),</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>token</code>: Token for passwordless login.</li>
<li><code>is_used</code>: Indicates if the token has been used.</li>
<li><code>expires_at</code>: Token expiration time.</li>
<li><code>created_at</code>: Timestamp when the token was created.</li>
<li><code>updated_at</code>: Timestamp when the record was last updated.</li>
</ul>
<h3 id="jwt_refresh_tokens_jwt_refresh_tokens">JWT Refresh Tokens (<code>jwt_refresh_tokens</code>)<a class="headerlink" href="#jwt_refresh_tokens_jwt_refresh_tokens" title="Permanent link">&para;</a></h3>
<p>Stores JWT refresh tokens with expiration and revocation details.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">jwt_refresh_tokens</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">refresh_token</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">issued_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="n">expires_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Token expiration time</span>
<span class="w">  </span><span class="n">revoked_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Time the token was revoked (if applicable)</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="n">updated_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="k">UNIQUE</span><span class="w"> </span><span class="p">(</span><span class="n">refresh_token</span><span class="p">),</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>refresh_token</code>: The JWT refresh token.</li>
<li><code>issued_at</code>: Timestamp when the token was issued.</li>
<li><code>expires_at</code>: Token expiration time.</li>
<li><code>revoked_at</code>: Timestamp if the token was revoked.</li>
<li><code>created_at</code>: Timestamp when the record was created.</li>
<li><code>updated_at</code>: Timestamp when the record was last updated.</li>
</ul>
<h3 id="user_two-factor_authentication_user_2fa">User Two-Factor Authentication (<code>user_2fa</code>)<a class="headerlink" href="#user_two-factor_authentication_user_2fa" title="Permanent link">&para;</a></h3>
<p>Stores users&rsquo; two-factor authentication settings.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">user_2fa</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">is_2fa_enabled</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span>
<span class="w">  </span><span class="n">secret_key</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span><span class="w"> </span><span class="c1">-- Key for generating TOTP codes</span>
<span class="w">  </span><span class="n">backup_codes</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Stores hashed backup codes</span>
<span class="w">  </span><span class="n">otp_verified</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span><span class="w"> </span><span class="c1">-- If the OTP has been verified</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="n">updated_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>is_2fa_enabled</code>: Indicates if 2FA is enabled.</li>
<li><code>secret_key</code>: Secret key for TOTP generation.</li>
<li><code>backup_codes</code>: Hashed backup codes.</li>
<li><code>otp_verified</code>: Indicates if the OTP has been verified.</li>
<li><code>created_at</code>: Timestamp when the record was created.</li>
<li><code>updated_at</code>: Timestamp when the record was last updated.</li>
</ul>
<h3 id="api_keys_api_keys">API Keys (<code>api_keys</code>)<a class="headerlink" href="#api_keys_api_keys" title="Permanent link">&para;</a></h3>
<p>Stores API keys for user access.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">api_keys</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">api_key</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- The actual API key</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="n">expires_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- When the key expires</span>
<span class="w">  </span><span class="n">is_revoked</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Manual revocation flag</span>
<span class="w">  </span><span class="n">last_used_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Last time the key was used</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>api_key</code>: The API key.</li>
<li><code>created_at</code>: Timestamp when the API key was created.</li>
<li><code>expires_at</code>: Expiration date of the API key.</li>
<li><code>is_revoked</code>: Indicates if the key has been revoked.</li>
<li><code>last_used_at</code>: Timestamp of the last use.</li>
</ul>
<h3 id="api_rate_limits_api_rate_limits">API Rate Limits (<code>api_rate_limits</code>)<a class="headerlink" href="#api_rate_limits_api_rate_limits" title="Permanent link">&para;</a></h3>
<p>Tracks API usage for rate limiting.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">api_rate_limits</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">api_key_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">request_count</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Number of requests made</span>
<span class="w">  </span><span class="n">period_start</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Start of the rate-limit period</span>
<span class="w">  </span><span class="n">period_end</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- End of the rate-limit period</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">api_key_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">api_keys</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>api_key_id</code>: References <code>api_keys.id</code>.</li>
<li><code>request_count</code>: Number of requests made.</li>
<li><code>period_start</code>: Start time of the rate limit period.</li>
<li><code>period_end</code>: End time of the rate limit period.</li>
</ul>
<h3 id="api_key_rotations_api_key_rotations">API Key Rotations (<code>api_key_rotations</code>)<a class="headerlink" href="#api_key_rotations_api_key_rotations" title="Permanent link">&para;</a></h3>
<p>Tracks API key rotations for security purposes.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">api_key_rotations</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">old_api_key</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span><span class="w"> </span><span class="c1">-- Previous API key</span>
<span class="w">  </span><span class="n">new_api_key</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span><span class="w"> </span><span class="c1">-- Newly generated API key</span>
<span class="w">  </span><span class="n">rotated_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span><span class="w"> </span><span class="c1">-- When rotation occurred</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>old_api_key</code>: The old API key.</li>
<li><code>new_api_key</code>: The new API key.</li>
<li><code>rotated_at</code>: Timestamp when rotation occurred.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
</ul>
<h3 id="security_logs_security_logs">Security Logs (<code>security_logs</code>)<a class="headerlink" href="#security_logs_security_logs" title="Permanent link">&para;</a></h3>
<p>Tracks security-related events.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">security_logs</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Could be NULL for system-wide events</span>
<span class="w">  </span><span class="n">event_type</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- E.g., &#39;login_failed&#39;</span>
<span class="w">  </span><span class="n">event_details</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Detailed description of the event</span>
<span class="w">  </span><span class="n">event_timestamp</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span><span class="w"> </span><span class="c1">-- When the event occurred</span>
<span class="w">  </span><span class="n">severity_level</span><span class="w"> </span><span class="n">ENUM</span><span class="p">(</span><span class="s1">&#39;low&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;medium&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;high&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;critical&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;low&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Security level</span>
<span class="w">  </span><span class="n">user_ip</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">45</span><span class="p">),</span><span class="w"> </span><span class="c1">-- IP address involved</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>event_type</code>: Type of event.</li>
<li><code>event_details</code>: Detailed event description.</li>
<li><code>event_timestamp</code>: When the event occurred.</li>
<li><code>severity_level</code>: Security severity level.</li>
<li><code>user_ip</code>: IP address involved.</li>
</ul>
<hr />
<h2 id="blockchain_and_wallets">Blockchain and Wallets<a class="headerlink" href="#blockchain_and_wallets" title="Permanent link">&para;</a></h2>
<h3 id="currencies_currencies">Currencies (<code>currencies</code>)<a class="headerlink" href="#currencies_currencies" title="Permanent link">&para;</a></h3>
<p>Stores information about supported currencies.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">currencies</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">code</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">symbol</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
<span class="w">  </span><span class="n">decimals</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">8</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>code</code>: Currency code (e.g., &lsquo;QRL&rsquo;).</li>
<li><code>name</code>: Full name of the currency.</li>
<li><code>symbol</code>: Symbol used for the currency.</li>
<li><code>decimals</code>: Number of decimal places.</li>
</ul>
<h3 id="wallets_wallets">Wallets (<code>wallets</code>)<a class="headerlink" href="#wallets_wallets" title="Permanent link">&para;</a></h3>
<p>Stores wallet information for users and supported currencies.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">wallets</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">currency_code</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">public_address</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">80</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">balance</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000000000</span><span class="p">,</span>
<span class="w">  </span><span class="n">qr_code</span><span class="w"> </span><span class="nb">BLOB</span><span class="p">,</span>
<span class="w">  </span><span class="n">is_retired</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span>
<span class="w">  </span><span class="n">retired_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="n">updated_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span><span class="w"> </span><span class="n">currency_code</span><span class="p">),</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">currency_code</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">currencies</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>currency_code</code>: References <code>currencies.code</code>.</li>
<li><code>public_address</code>: Wallet&rsquo;s public address.</li>
<li><code>balance</code>: Last known balance.</li>
<li><code>qr_code</code>: QR code image for deposits.</li>
<li><code>is_retired</code>: Indicates if the wallet is retired.</li>
<li><code>retired_at</code>: Timestamp when retired.</li>
<li><code>created_at</code>: Timestamp when created.</li>
<li><code>updated_at</code>: Timestamp when updated.</li>
</ul>
<h3 id="web3_wallets_web3_wallets">Web3 Wallets (<code>web3_wallets</code>)<a class="headerlink" href="#web3_wallets_web3_wallets" title="Permanent link">&para;</a></h3>
<p>Stores Web3 wallet addresses linked to users.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">web3_wallets</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">blockchain</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Blockchain name (e.g., &#39;ethereum&#39;)</span>
<span class="w">  </span><span class="n">public_address</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Web3 public address</span>
<span class="w">  </span><span class="n">is_primary</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Is this the primary address?</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="n">updated_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">public_address</span><span class="p">,</span><span class="w"> </span><span class="n">blockchain</span><span class="p">),</span><span class="w"> </span><span class="c1">-- Ensure unique address per blockchain</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>blockchain</code>: Name of the blockchain.</li>
<li><code>public_address</code>: User&rsquo;s Web3 public address.</li>
<li><code>is_primary</code>: Indicates if primary address.</li>
<li><code>created_at</code>: Timestamp when linked.</li>
<li><code>updated_at</code>: Timestamp when updated.</li>
</ul>
<h3 id="web3_verifications_web3_verifications">Web3 Verifications (<code>web3_verifications</code>)<a class="headerlink" href="#web3_verifications_web3_verifications" title="Permanent link">&para;</a></h3>
<p>Stores details of Web3 verifications using cryptographic signatures.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">web3_verifications</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">web3_wallet_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Links to web3_wallets</span>
<span class="w">  </span><span class="n">signature</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Cryptographic signature</span>
<span class="w">  </span><span class="n">message</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Message used for signing</span>
<span class="w">  </span><span class="n">verified</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Whether verified</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="n">updated_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">web3_wallet_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">web3_wallets</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>web3_wallet_id</code>: References <code>web3_wallets.id</code>.</li>
<li><code>signature</code>: Cryptographic signature.</li>
<li><code>message</code>: Message that was signed.</li>
<li><code>verified</code>: Indicates if verification succeeded.</li>
<li><code>created_at</code>: Timestamp when verification attempted.</li>
<li><code>updated_at</code>: Timestamp when updated.</li>
</ul>
<h3 id="nonces_nonces">Nonces (<code>nonces</code>)<a class="headerlink" href="#nonces_nonces" title="Permanent link">&para;</a></h3>
<p>Tracks nonces used for Web3 signature verifications.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">nonces</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">web3_wallet_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Links to web3_wallets</span>
<span class="w">  </span><span class="n">nonce</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Unique nonce</span>
<span class="w">  </span><span class="n">is_used</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Whether used</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="n">updated_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">web3_wallet_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">web3_wallets</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>web3_wallet_id</code>: References <code>web3_wallets.id</code>.</li>
<li><code>nonce</code>: The nonce for signing.</li>
<li><code>is_used</code>: Indicates if nonce is used.</li>
<li><code>created_at</code>: Timestamp when created.</li>
<li><code>updated_at</code>: Timestamp when updated.</li>
</ul>
<hr />
<h2 id="transactions_and_tips">Transactions and Tips<a class="headerlink" href="#transactions_and_tips" title="Permanent link">&para;</a></h2>
<h3 id="transaction_types_transaction_types">Transaction Types (<code>transaction_types</code>)<a class="headerlink" href="#transaction_types_transaction_types" title="Permanent link">&para;</a></h3>
<p>Defines different types of transactions.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">transaction_types</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">UNIQUE</span><span class="p">,</span>
<span class="w">  </span><span class="n">description</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>name</code>: Name of the transaction type (e.g., &lsquo;tip&rsquo;).</li>
<li><code>description</code>: Description.</li>
</ul>
<p><strong>Initial Data:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">transaction_types</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span>
<span class="w">  </span><span class="p">(</span><span class="s1">&#39;tip&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;User-to-user tip&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="p">(</span><span class="s1">&#39;withdrawal&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Withdrawal to external address&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="p">(</span><span class="s1">&#39;deposit&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;User deposit&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="p">(</span><span class="s1">&#39;promotion_payout&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Payout from a promotion&#39;</span><span class="p">);</span>
</code></pre></div>
<h3 id="transactions_transactions">Transactions (<code>transactions</code>)<a class="headerlink" href="#transactions_transactions" title="Permanent link">&para;</a></h3>
<p>Records all blockchain transactions.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">transactions</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">transaction_type_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">currency_code</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">amount</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">amount</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>
<span class="w">  </span><span class="n">tx_hash</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">status</span><span class="w"> </span><span class="n">ENUM</span><span class="p">(</span><span class="s1">&#39;pending&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;completed&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;failed&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;pending&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="n">updated_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">transaction_type_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">transaction_types</span><span class="p">(</span><span class="n">id</span><span class="p">),</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">currency_code</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">currencies</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique transaction identifier.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>transaction_type_id</code>: References <code>transaction_types.id</code>.</li>
<li><code>currency_code</code>: References <code>currencies.code</code>.</li>
<li><code>amount</code>: Transaction amount.</li>
<li><code>tx_hash</code>: Unique transaction hash.</li>
<li><code>status</code>: Transaction status.</li>
<li><code>created_at</code>: Timestamp when created.</li>
<li><code>updated_at</code>: Timestamp when updated.</li>
</ul>
<h3 id="tips_tips">Tips (<code>tips</code>)<a class="headerlink" href="#tips_tips" title="Permanent link">&para;</a></h3>
<p>Records each tip initiated by a user.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">tips</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">transaction_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">sender_user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">message</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">transaction_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">transactions</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">sender_user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>transaction_id</code>: References <code>transactions.id</code>.</li>
<li><code>sender_user_id</code>: References <code>users.id</code>.</li>
<li><code>message</code>: Optional message.</li>
<li><code>created_at</code>: Timestamp when tip was created.</li>
</ul>
<h3 id="tip_recipients_tip_recipients">Tip Recipients (<code>tip_recipients</code>)<a class="headerlink" href="#tip_recipients_tip_recipients" title="Permanent link">&para;</a></h3>
<p>Associates multiple recipients with a tip.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">tip_recipients</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">tip_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">recipient_user_id</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span>
<span class="w">  </span><span class="n">recipient_username</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">  </span><span class="n">amount</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">amount</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">tip_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">tips</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">recipient_user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>tip_id</code>: References <code>tips.id</code>.</li>
<li><code>recipient_user_id</code>: References <code>users.id</code> (nullable).</li>
<li><code>recipient_username</code>: Username if recipient not registered.</li>
<li><code>amount</code>: Amount allocated to recipient.</li>
</ul>
<h3 id="withdrawals_withdrawals">Withdrawals (<code>withdrawals</code>)<a class="headerlink" href="#withdrawals_withdrawals" title="Permanent link">&para;</a></h3>
<p>Logs user-initiated withdrawals to external addresses.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">withdrawals</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">transaction_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">to_address</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">80</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">transaction_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">transactions</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>transaction_id</code>: References <code>transactions.id</code>.</li>
<li><code>to_address</code>: External address.</li>
</ul>
<h3 id="future_tips_future_tips">Future Tips (<code>future_tips</code>)<a class="headerlink" href="#future_tips_future_tips" title="Permanent link">&para;</a></h3>
<p>Stores tips intended for users who have not yet registered.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">future_tips</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">tip_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">recipient_username</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">amount</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">amount</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>
<span class="w">  </span><span class="n">currency_code</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">is_paid_out</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">tip_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">tips</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">currency_code</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">currencies</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>tip_id</code>: References <code>tips.id</code>.</li>
<li><code>recipient_username</code>: Username of intended recipient.</li>
<li><code>amount</code>: Tip amount.</li>
<li><code>currency_code</code>: Currency used.</li>
<li><code>is_paid_out</code>: Indicates if tip is paid out.</li>
<li><code>created_at</code>: Timestamp when created.</li>
</ul>
<hr />
<h2 id="promotions_and_rewards">Promotions and Rewards<a class="headerlink" href="#promotions_and_rewards" title="Permanent link">&para;</a></h2>
<h3 id="promotions_promotions">Promotions (<code>promotions</code>)<a class="headerlink" href="#promotions_promotions" title="Permanent link">&para;</a></h3>
<p>Manages promotional events and campaigns.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">promotions</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">description</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
<span class="w">  </span><span class="n">start_date</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span>
<span class="w">  </span><span class="n">end_date</span><span class="w"> </span><span class="n">DATETIME</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>name</code>: Name of the promotion.</li>
<li><code>description</code>: Description.</li>
<li><code>start_date</code>: Start date.</li>
<li><code>end_date</code>: End date.</li>
</ul>
<h3 id="user_promotions_user_promotions">User Promotions (<code>user_promotions</code>)<a class="headerlink" href="#user_promotions_user_promotions" title="Permanent link">&para;</a></h3>
<p>Tracks user participation in promotions.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">user_promotions</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">promotion_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">is_redeemed</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span>
<span class="w">  </span><span class="n">redemption_date</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">promotion_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">promotions</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>promotion_id</code>: References <code>promotions.id</code>.</li>
<li><code>is_redeemed</code>: Indicates if redeemed.</li>
<li><code>redemption_date</code>: When redeemed.</li>
</ul>
<hr />
<h3 id="guild_promotions_guild_promotions">Guild Promotions (<code>guild_promotions</code>)<a class="headerlink" href="#guild_promotions_guild_promotions" title="Permanent link">&para;</a></h3>
<p>Guild Promotions Table: This table will store the core promotion details for each guild.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">guild_promotions</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">guild_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- References guilds</span>
<span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Promotion name</span>
<span class="w">  </span><span class="n">description</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Details of the promotion</span>
<span class="w">  </span><span class="n">start_date</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Start time of the promotion</span>
<span class="w">  </span><span class="n">end_date</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span><span class="w"> </span><span class="c1">-- End time of the promotion</span>
<span class="w">  </span><span class="n">reward_type</span><span class="w"> </span><span class="n">ENUM</span><span class="p">(</span><span class="s1">&#39;tokens&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;tips&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;access&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Type of reward</span>
<span class="w">  </span><span class="n">reward_amount</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Optional: Amount of tokens or tips as reward</span>
<span class="w">  </span><span class="n">is_active</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">TRUE</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Whether the promotion is currently active</span>
<span class="w">  </span><span class="n">created_by</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- ID of admin/mod who created the promotion</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Timestamp when the promotion was created</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">guild_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">guilds</span><span class="p">(</span><span class="n">guild_id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">created_by</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">guild_admin_users</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div><br />
<strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier for each promotion.</li>
<li><code>guild_id</code>: The guild where the promotion is hosted.</li>
<li><code>name</code>: The name of the promotion.</li>
<li><code>description</code>: Full description and terms.</li>
<li><code>start_date</code>: When the promotion begins.</li>
<li><code>end_date</code>: When the promotion ends.</li>
<li><code>reward_type</code>: The type of reward (tokens, tips, special access, etc.).</li>
<li><code>reward_amount</code>: Amount of reward (if applicable, for tips or tokens).</li>
<li><code>is_active</code>: Indicates if the promotion is currently running.</li>
<li><code>created_by</code>: The admin or moderator who created the promotion.</li>
<li><code>created_at</code>: Timestamp when the promotion was created.</li>
</ul>
<h2 id="guild_promotion_participation_table">Guild Promotion Participation Table<a class="headerlink" href="#guild_promotion_participation_table" title="Permanent link">&para;</a></h2>
<p>Track each user&rsquo;s interaction with a guild-specific promotion (e.g., whether they have signed up, redeemed, or referred others).</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">guild_promotion_participants</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">promotion_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- References guild_promotions</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- References users</span>
<span class="w">  </span><span class="n">referral_code</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span><span class="w"> </span><span class="c1">-- Optional: Referral code used</span>
<span class="w">  </span><span class="n">is_redeemed</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Whether the user has redeemed the reward</span>
<span class="w">  </span><span class="n">redemption_date</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span><span class="w"> </span><span class="c1">-- When the reward was redeemed</span>
<span class="w">  </span><span class="n">points_earned</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Optional: Points or scores earned</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Timestamp of user participation</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">promotion_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">guild_promotions</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<ul>
<li><code>id</code>: Unique identifier for each participant.</li>
<li><code>promotion_id</code>: The promotion in which the user is participating.</li>
<li><code>user_id</code>: The user participating in the promotion.</li>
<li><code>referral_code</code>: Optional referral code used for joining.</li>
<li><code>is_redeemed</code>: Whether the user has claimed the reward.</li>
<li><code>redemption_date</code>: Timestamp of reward redemption.</li>
<li><code>points_earned</code>: Any points or metrics tracked during the promotion.</li>
<li><code>created_at</code>: When the user signed up for the promotion.</li>
</ul>
<h3 id="guild_promotions_rewards_table_guild_promotion_rewards">Guild Promotions Rewards Table (<code>guild_promotion_rewards</code>)<a class="headerlink" href="#guild_promotions_rewards_table_guild_promotion_rewards" title="Permanent link">&para;</a></h3>
<p>If promotions offer different types of rewards based on criteria (e.g., milestones, achievements), this table can store those reward tiers.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">guild_promotion_rewards</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">promotion_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- References guild_promotions</span>
<span class="w">  </span><span class="n">reward_type</span><span class="w"> </span><span class="n">ENUM</span><span class="p">(</span><span class="s1">&#39;tokens&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;tips&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;access&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Type of reward</span>
<span class="w">  </span><span class="n">reward_amount</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Amount of reward (if applicable)</span>
<span class="w">  </span><span class="n">milestone</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span><span class="w"> </span><span class="c1">-- Optional milestone for earning the reward (e.g., &#39;10 referrals&#39;)</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">promotion_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">guild_promotions</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields</strong>:</p>
<ul>
<li><code>id</code>: Unique identifier for each reward.</li>
<li><code>promotion_id</code>: The promotion this reward is linked to.</li>
<li><code>reward_type</code>: The type of reward.</li>
<li><code>reward_amount</code>: The value or amount of the reward.</li>
<li><code>milestone</code>: Optional milestone criteria for earning the reward.</li>
</ul>
<h2 id="guild_and_role_management">Guild and Role Management<a class="headerlink" href="#guild_and_role_management" title="Permanent link">&para;</a></h2>
<h3 id="guilds_guilds">Guilds (<code>guilds</code>)<a class="headerlink" href="#guilds_guilds" title="Permanent link">&para;</a></h3>
<p>Stores core guild (e.g., Discord server) information.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">guilds</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">guild_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">is_allowed</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span>
<span class="w">  </span><span class="n">announcement_channel</span><span class="w"> </span><span class="nb">BIGINT</span><span class="p">,</span>
<span class="w">  </span><span class="n">mod_channel</span><span class="w"> </span><span class="nb">BIGINT</span><span class="p">,</span>
<span class="w">  </span><span class="n">command_prefix</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;!&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="n">allow_all_channels</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Indicates if all channels are allowed</span>
<span class="w">  </span><span class="n">bot_join_date</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>guild_id</code>: Unique identifier.</li>
<li><code>is_allowed</code>: Indicates if the bot is allowed in the guild.</li>
<li><code>announcement_channel</code>: Channel ID for announcements.</li>
<li><code>mod_channel</code>: Channel ID for moderators.</li>
<li><code>command_prefix</code>: Command prefix.</li>
<li><code>allow_all_channels</code>: If all channels are allowed.</li>
<li><code>bot_join_date</code>: When the bot joined.</li>
</ul>
<h3 id="guild_features_guild_features">Guild Features (<code>guild_features</code>)<a class="headerlink" href="#guild_features_guild_features" title="Permanent link">&para;</a></h3>
<p>Stores feature toggles for each guild.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">guild_features</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">guild_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">feature_name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
<span class="w">  </span><span class="n">is_enabled</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">TRUE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">guild_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">guilds</span><span class="p">(</span><span class="n">guild_id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>guild_id</code>: References <code>guilds.guild_id</code>.</li>
<li><code>feature_name</code>: Name of the feature.</li>
<li><code>is_enabled</code>: Indicates if enabled.</li>
</ul>
<h3 id="roles_roles">Roles (<code>roles</code>)<a class="headerlink" href="#roles_roles" title="Permanent link">&para;</a></h3>
<p>Defines global roles.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">roles</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">role_name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">UNIQUE</span><span class="p">,</span>
<span class="w">  </span><span class="n">description</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>role_name</code>: Name of the role.</li>
<li><code>description</code>: Description.</li>
</ul>
<h3 id="permissions_permissions">Permissions (<code>permissions</code>)<a class="headerlink" href="#permissions_permissions" title="Permanent link">&para;</a></h3>
<p>Defines global permissions.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">permissions</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">permission_name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">UNIQUE</span><span class="p">,</span>
<span class="w">  </span><span class="n">description</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>permission_name</code>: Name of the permission.</li>
<li><code>description</code>: Description.</li>
</ul>
<h3 id="role_permissions_role_permissions">Role Permissions (<code>role_permissions</code>)<a class="headerlink" href="#role_permissions_role_permissions" title="Permanent link">&para;</a></h3>
<p>Associates roles with permissions.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">role_permissions</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">role_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">permission_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">role_id</span><span class="p">,</span><span class="w"> </span><span class="n">permission_id</span><span class="p">),</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">role_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">roles</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">permission_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">permissions</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>role_id</code>: References <code>roles.id</code>.</li>
<li><code>permission_id</code>: References <code>permissions.id</code>.</li>
</ul>
<h3 id="user_roles_user_roles">User Roles (<code>user_roles</code>)<a class="headerlink" href="#user_roles_user_roles" title="Permanent link">&para;</a></h3>
<p>Associates users with roles for permission management.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">user_roles</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">role_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span><span class="w"> </span><span class="n">role_id</span><span class="p">),</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">role_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">roles</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>role_id</code>: References <code>roles.id</code>.</li>
</ul>
<h3 id="guild_roles_guild_roles">Guild Roles (<code>guild_roles</code>)<a class="headerlink" href="#guild_roles_guild_roles" title="Permanent link">&para;</a></h3>
<p>Links guilds with global roles.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">guild_roles</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">guild_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">role_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">  </span><span class="c1">-- Links to global &#39;roles&#39; table</span>
<span class="w">  </span><span class="n">mod_role</span><span class="w"> </span><span class="nb">BIGINT</span><span class="p">,</span>
<span class="w">  </span><span class="n">admin_role</span><span class="w"> </span><span class="nb">BIGINT</span><span class="p">,</span>
<span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">guild_id</span><span class="p">,</span><span class="w"> </span><span class="n">role_id</span><span class="p">),</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">guild_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">guilds</span><span class="p">(</span><span class="n">guild_id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">role_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">roles</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>guild_id</code>: References <code>guilds.guild_id</code>.</li>
<li><code>role_id</code>: References <code>roles.id</code>.</li>
<li><code>mod_role</code>: Guild-specific moderator role ID.</li>
<li><code>admin_role</code>: Guild-specific admin role ID.</li>
</ul>
<h3 id="guild_permissions_guild_permissions">Guild Permissions (<code>guild_permissions</code>)<a class="headerlink" href="#guild_permissions_guild_permissions" title="Permanent link">&para;</a></h3>
<p>Guild-specific permissions for roles.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">guild_permissions</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">guild_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">role_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">permission_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">guild_id</span><span class="p">,</span><span class="w"> </span><span class="n">role_id</span><span class="p">,</span><span class="w"> </span><span class="n">permission_id</span><span class="p">),</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">guild_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">guilds</span><span class="p">(</span><span class="n">guild_id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">role_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">roles</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">permission_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">permissions</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>guild_id</code>: References <code>guilds.guild_id</code>.</li>
<li><code>role_id</code>: References <code>roles.id</code>.</li>
<li><code>permission_id</code>: References <code>permissions.id</code>.</li>
</ul>
<h3 id="guild_mod_users_guild_mod_users">Guild Mod Users (<code>guild_mod_users</code>)<a class="headerlink" href="#guild_mod_users_guild_mod_users" title="Permanent link">&para;</a></h3>
<p>Associates guilds with moderator users.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">guild_mod_users</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">guild_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">guild_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">guilds</span><span class="p">(</span><span class="n">guild_id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>guild_id</code>: References <code>guilds.guild_id</code>.</li>
<li><code>user_id</code>: User ID of the moderator.</li>
</ul>
<h3 id="guild_admin_users_guild_admin_users">Guild Admin Users (<code>guild_admin_users</code>)<a class="headerlink" href="#guild_admin_users_guild_admin_users" title="Permanent link">&para;</a></h3>
<p>Associates guilds with admin users.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">guild_admin_users</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">guild_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">guild_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">guilds</span><span class="p">(</span><span class="n">guild_id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>guild_id</code>: References <code>guilds.guild_id</code>.</li>
<li><code>user_id</code>: User ID of the admin.</li>
</ul>
<h3 id="allowed_channels_allowed_channels">Allowed Channels (<code>allowed_channels</code>)<a class="headerlink" href="#allowed_channels_allowed_channels" title="Permanent link">&para;</a></h3>
<p>Stores allowed channels for bot interaction.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">allowed_channels</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">guild_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">channel_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">guild_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">guilds</span><span class="p">(</span><span class="n">guild_id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>guild_id</code>: References <code>guilds.guild_id</code>.</li>
<li><code>channel_id</code>: Channel ID allowed.</li>
</ul>
<h3 id="faucet_channels_faucet_channels">Faucet Channels (<code>faucet_channels</code>)<a class="headerlink" href="#faucet_channels_faucet_channels" title="Permanent link">&para;</a></h3>
<p>Stores faucet-specific channels.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">faucet_channels</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">guild_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">channel_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">guild_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">guilds</span><span class="p">(</span><span class="n">guild_id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>guild_id</code>: References <code>guilds.guild_id</code>.</li>
<li><code>channel_id</code>: Faucet channel ID.</li>
</ul>
<hr />
<h2 id="analytics_and_logging">Analytics and Logging<a class="headerlink" href="#analytics_and_logging" title="Permanent link">&para;</a></h2>
<h3 id="user_analytics_user_analytics">User Analytics (<code>user_analytics</code>)<a class="headerlink" href="#user_analytics_user_analytics" title="Permanent link">&para;</a></h3>
<p>Tracks detailed user interactions for analytics.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">user_analytics</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">action</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Action performed</span>
<span class="w">  </span><span class="n">transaction_size</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Size if applicable</span>
<span class="w">  </span><span class="n">faucet_request_count</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Number of faucet requests</span>
<span class="w">  </span><span class="n">tip_count</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Number of tips given</span>
<span class="w">  </span><span class="n">response_time_ms</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Time taken to process action</span>
<span class="w">  </span><span class="n">action_timestamp</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span><span class="w"> </span><span class="c1">-- When action occurred</span>
<span class="w">  </span><span class="n">user_ip</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">45</span><span class="p">),</span><span class="w"> </span><span class="c1">-- IP address</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>action</code>: Action performed.</li>
<li><code>transaction_size</code>: Size if applicable.</li>
<li><code>faucet_request_count</code>: Number of faucet requests.</li>
<li><code>tip_count</code>: Number of tips given.</li>
<li><code>response_time_ms</code>: Processing time.</li>
<li><code>action_timestamp</code>: When occurred.</li>
<li><code>user_ip</code>: IP address.</li>
</ul>
<h3 id="balance_snapshots_balance_snapshots">Balance Snapshots (<code>balance_snapshots</code>)<a class="headerlink" href="#balance_snapshots_balance_snapshots" title="Permanent link">&para;</a></h3>
<p>Captures user balances at different intervals.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">balance_snapshots</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">currency_code</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Currency code</span>
<span class="w">  </span><span class="n">balance</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- User balance</span>
<span class="w">  </span><span class="n">snapshot_time</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span><span class="w"> </span><span class="c1">-- When snapshot taken</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">currency_code</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">currencies</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>currency_code</code>: References <code>currencies.code</code>.</li>
<li><code>balance</code>: User balance.</li>
<li><code>snapshot_time</code>: When snapshot taken.</li>
</ul>
<h3 id="data_access_logs_data_access_logs">Data Access Logs (<code>data_access_logs</code>)<a class="headerlink" href="#data_access_logs_data_access_logs" title="Permanent link">&para;</a></h3>
<p>Logs data export or deletion requests for GDPR compliance.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">data_access_logs</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">access_type</span><span class="w"> </span><span class="n">ENUM</span><span class="p">(</span><span class="s1">&#39;data_export&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;data_deletion&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Type of request</span>
<span class="w">  </span><span class="n">request_timestamp</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span><span class="w"> </span><span class="c1">-- When requested</span>
<span class="w">  </span><span class="n">completed_timestamp</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span><span class="w"> </span><span class="c1">-- When fulfilled</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>access_type</code>: Type of GDPR request.</li>
<li><code>request_timestamp</code>: When requested.</li>
<li><code>completed_timestamp</code>: When fulfilled.</li>
</ul>
<hr />
<h2 id="notifications">Notifications<a class="headerlink" href="#notifications" title="Permanent link">&para;</a></h2>
<h3 id="notification_types_notification_types">Notification Types (<code>notification_types</code>)<a class="headerlink" href="#notification_types_notification_types" title="Permanent link">&para;</a></h3>
<p>Categorizes different notifications.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">notification_types</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">type_name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Type of notification</span>
<span class="w">  </span><span class="n">description</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>type_name</code>: Notification type name.</li>
<li><code>description</code>: Description.</li>
</ul>
<h3 id="notifications_notifications">Notifications (<code>notifications</code>)<a class="headerlink" href="#notifications_notifications" title="Permanent link">&para;</a></h3>
<p>Stores global or non-guild-specific notifications.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">notifications</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">type_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- References notification_types</span>
<span class="w">  </span><span class="n">content</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Notification content</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">type_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">notification_types</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>type_id</code>: References <code>notification_types.id</code>.</li>
<li><code>content</code>: Notification content.</li>
<li><code>created_at</code>: Timestamp when created.</li>
</ul>
<h3 id="user_notifications_user_notifications">User Notifications (<code>user_notifications</code>)<a class="headerlink" href="#user_notifications_user_notifications" title="Permanent link">&para;</a></h3>
<p>Stores notifications specific to each user, allowing the application to track whether a notification has been delivered and read by the user. Useful for features like alerts, announcements, and reminders.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">user_notifications</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- References users.id to associate the notification with a specific user</span>
<span class="w">  </span><span class="n">notification_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- References notifications.id for the actual notification content</span>
<span class="w">  </span><span class="n">is_read</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Tracks whether the user has opened/read the notification</span>
<span class="w">  </span><span class="n">delivered_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Timestamp of when the notification was delivered to the user</span>
<span class="w">  </span><span class="n">read_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Timestamp of when the notification was read (if applicable)</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">notification_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">notifications</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier for the notification record.</li>
<li><code>user_id</code>: References the user who received the notification, ensuring notifications are user-specific.</li>
<li><code>notification_id</code>: References the notifications.id table, linking to the actual notification content (message, type).</li>
<li><code>is_read</code>: Indicates whether the user has opened/read the notification (false by default).</li>
<li><code>delivered_at</code>: The timestamp indicating when the notification was delivered to the user.</li>
<li><code>read_at</code>: The timestamp indicating when the user read the notification, if applicable.</li>
</ul>
<h3 id="user_notification_preferences_user_notification_preferences">User Notification Preferences (<code>user_notification_preferences</code>)<a class="headerlink" href="#user_notification_preferences_user_notification_preferences" title="Permanent link">&para;</a></h3>
<p>Stores user preferences for receiving notifications.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">user_notification_preferences</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- References users.id</span>
<span class="w">  </span><span class="n">notify_by_email</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">TRUE</span><span class="p">,</span>
<span class="w">  </span><span class="n">notify_by_sms</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span>
<span class="w">  </span><span class="n">notify_in_app</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">TRUE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>notify_by_email</code>: Email notifications.</li>
<li><code>notify_by_sms</code>: SMS notifications.</li>
<li><code>notify_in_app</code>: In-app notifications.</li>
</ul>
<h3 id="guild_notifications_guild_notifications">Guild Notifications (<code>guild_notifications</code>)<a class="headerlink" href="#guild_notifications_guild_notifications" title="Permanent link">&para;</a></h3>
<p>Guild-specific notifications.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">guild_notifications</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">guild_id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- References guilds</span>
<span class="w">  </span><span class="n">type_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- References notification_types</span>
<span class="w">  </span><span class="n">content</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- Notification content</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span>
<span class="w">  </span><span class="n">created_by</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- User ID of creator</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">guild_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">guilds</span><span class="p">(</span><span class="n">guild_id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">type_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">notification_types</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>guild_id</code>: References <code>guilds.guild_id</code>.</li>
<li><code>type_id</code>: References <code>notification_types.id</code>.</li>
<li><code>content</code>: Notification content.</li>
<li><code>created_at</code>: Timestamp when created.</li>
<li><code>created_by</code>: User ID of creator.</li>
</ul>
<h3 id="user_guild_notifications_user_guild_notifications">User Guild Notifications (<code>user_guild_notifications</code>)<a class="headerlink" href="#user_guild_notifications_user_guild_notifications" title="Permanent link">&para;</a></h3>
<p>Maps guild notifications to users.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">user_guild_notifications</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">guild_notification_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- References guild_notifications</span>
<span class="w">  </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- References users.id</span>
<span class="w">  </span><span class="n">is_read</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">FALSE</span><span class="p">,</span>
<span class="w">  </span><span class="n">delivered_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span>
<span class="w">  </span><span class="n">read_at</span><span class="w"> </span><span class="n">DATETIME</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">guild_notification_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">guild_notifications</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>guild_notification_id</code>: References <code>guild_notifications.id</code>.</li>
<li><code>user_id</code>: References <code>users.id</code>.</li>
<li><code>is_read</code>: Indicates if read.</li>
<li><code>delivered_at</code>: When delivered.</li>
<li><code>read_at</code>: When read.</li>
</ul>
<h3 id="guild_notification_queue_guild_notification_queue">Guild Notification Queue (<code>guild_notification_queue</code>)<a class="headerlink" href="#guild_notification_queue_guild_notification_queue" title="Permanent link">&para;</a></h3>
<p>Queue for scheduling guild notifications.</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">guild_notification_queue</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">guild_notification_id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- References guild_notifications</span>
<span class="w">  </span><span class="n">scheduled_for</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="c1">-- When to deliver</span>
<span class="w">  </span><span class="n">status</span><span class="w"> </span><span class="n">ENUM</span><span class="p">(</span><span class="s1">&#39;pending&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;sent&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;failed&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;pending&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="n">attempts</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">guild_notification_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">guild_notifications</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div>
<p><strong>Fields:</strong></p>
<ul>
<li><code>id</code>: Unique identifier.</li>
<li><code>guild_notification_id</code>: References <code>guild_notifications.id</code>.</li>
<li><code>scheduled_for</code>: Scheduled delivery time.</li>
<li><code>status</code>: Delivery status.</li>
<li><code>attempts</code>: Number of attempts.</li>
</ul>
<hr />
<h2 id="notes_and_constraints">Notes and Constraints<a class="headerlink" href="#notes_and_constraints" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Foreign Keys</strong>: All foreign keys are defined with <code>ON DELETE CASCADE</code> to ensure referential integrity and automatically remove related records when a user or related entity is deleted.</li>
<li><strong>Unique Constraints</strong>: Applied where necessary to prevent duplicate entries (e.g., unique usernames, one wallet per user per currency).</li>
<li><strong>Data Types</strong>: Appropriate data types are used for fields, such as <code>DECIMAL(24,9)</code> for amounts to handle cryptocurrencies with high precision.</li>
<li><strong>Timestamp Fields</strong>: Standardized timestamp fields (<code>created_at</code>, <code>updated_at</code>, etc.) are used across tables for consistency.</li>
<li><strong>Indexes</strong>: Implicitly created by primary keys and unique constraints. Additional indexes can be added on frequently queried fields for performance optimization.</li>
</ul>
<blockquote>
<p><strong>Note</strong>: The <code>discord_link</code> and <code>faucet_payouts</code> tables have been omitted because account linking is handled through the <code>authentication_providers</code> and <code>user_authentications</code> tables, and faucet payouts are recorded in the <code>transactions</code> table with the appropriate <code>transaction_type_id</code>.</p>
</blockquote>
<hr />












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      MerkleTree Labs 2024
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "manual", "version": "1.0.0"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.525ec568.min.js"></script>
      
    
  </body>
</html>